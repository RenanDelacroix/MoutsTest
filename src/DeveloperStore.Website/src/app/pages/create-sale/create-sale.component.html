<form (ngSubmit)="submit()" class="sale-form">
  <h2>ðŸ†• Nova Venda</h2>

  <mat-form-field appearance="fill">
    <mat-label>Filial</mat-label>
    <mat-select [(ngModel)]="sale.branchId" name="branchId" required>
      <mat-option *ngFor="let branch of branches" [value]="branch.id">
        {{ branch.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div *ngFor="let item of sale.items; let i = index" class="sale-item">
    <mat-form-field appearance="fill">
      <mat-label>Produto</mat-label>
      <mat-select [(ngModel)]="item.productId" name="productId{{i}}" required>
        <mat-option *ngFor="let product of products" [value]="product.id">
          {{ product.name }} (R$ {{ product.price }})
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Quantidade</mat-label>
      <input matInput type="number" [(ngModel)]="item.quantity" name="quantity{{i}}" required />
    </mat-form-field>

    <button mat-mini-fab color="primary" type="button" (click)="addItem()">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <button mat-raised-button color="accent" type="submit">ðŸ’¾ Enviar</button>
</form>
